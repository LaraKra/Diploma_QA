# Планирование автоматизации тестирования сервиса "Diploma QA"

## 1. Перечень автоматизируемых сценариев

Под валидными или корректными данными при заполнении полей ввода приложения понимается:

+ *Номер карты:* 16 цифровых символов, в формате **** **** **** ****
+ *Месяц:* 01-12, но не ранее текущего месяца в случае, если указан текущий год
+ *Год:* последние две цифры года, не ранее текущего года и не более 5ти лет от текущего года
+ *Владелец:* буквенные символы латинского алфавита
+ *CVC:* 3 цифровых символа.

**Карты, представленные для тестирования (файл data.json):**

+ 4444 4444 4444 4441, status APPROVED
+ 4444 4444 4444 4442, status DECLINED

**Тестируемые Базы данных:**

- MySql
- PostgreSQL

- ### Позитивные сценарии для дебетовой и кредитной карты
**1.** Заполнить форму покупки тура валидными данными, оплата по дебетовой карте (номер карты: 4444 4444 4444 4441)

***Ожидаемый результат.*** Заявка одобрена банком, сообщение: "Успешно! Операция одобрена Банком". В СУБД payment_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "APPROVED".

**2.** Заполнить форму покупки тура валидными данными, оплата по кредитной карте (номер карты: 4444 4444 4444 4441)

***Ожидаемый результат.*** Заявка одобрена банком, сообщение: "Успешно! Операция одобрена Банком". В СУБД credit_request_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "APPROVED".

**3.** Заполнить форму покупки тура валидными данными, оплата по дебетовой карте (номер карты: 4444 4444 4444 4442)

***Ожидаемый результат.*** Всплывающее окно "Ошибка! Банк отказал в проведении операции". В СУБД payment_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "DECLINED".

**4.** Заполнить форму покупки тура валидными данными, оплата по кредитной карте (номер карты: 4444 4444 4444 4442)

***Ожидаемый результат.*** Всплывающее окно "Ошибка! Банк отказал в проведении операции". В СУБД credit_request_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "DECLINED".

- ### Негативные сценарии для дебетовой и кредитной карты

**1.** Отправка пустой формы покупки тура, оплата по дебетовой карте

***Ожидаемый результат.*** Все поля подсвечены красным цветом, сообщения об ошибке: «Неверный формат», «Поле обязательно для заполнения».

**2.** Отправка пустой формы покупки тура, оплата по кредитной карте

***Ожидаемый результат.*** Все поля подсвечены красным цветом, сообщения об ошибке: «Неверный формат», «Поле обязательно для заполнения».

**3.** Оплата по дебетовой карте с истекшим сроком действия (месяц, предшествующий текущему; текущий год)

***Ожидаемый результат.*** Поле "Месяц" подсвечено красным, сообщение об ошибке "Неверно указан срок действия карты".

**4.** Оплата по кредитной карте с истекшим сроком действия (месяц, предшествующий текущему; текущий год)

***Ожидаемый результат.*** Поле "Месяц" подсвечено красным, сообщение об ошибке "Неверно указан срок действия карты".

**5.** Оплата по дебетовой карте с истекшим сроком действия (введен год ранее текущего)

***Ожидаемый результат.*** Поле "Год" подсвечено красным, сообщение об ошибке "Истёк срок действия карты".

**6.** Оплата по кредитной карте с истекшим сроком действия (введен год ранее текущего)

***Ожидаемый результат.*** Поле "Год" подсвечено красным, сообщение об ошибке "Истёк срок действия карты".

**7.** Валидация поля "Номер карты": пустое поле, ввод букв, ввод некорректных символов, ввод менее 16 цифр, ввод более 16 цифр, ввод только пробелов, ввод несуществующего номера карты.

***Ожидаемый результат.*** Номер карты невалидный. Поле «Номер карты» подсвечивается красным цветом, сообщение об ошибке: «Неверный формат». Ввод некорректных символов недоступен.

**8.** Валидация поля "Месяц": пустое поле, ввод букв, ввод некорректных символов, ввод менее 2 цифр, ввод более 2 цифр, ввод цифр не входящих в валидный диапазон (01-12),ввод только пробелов.

***Ожидаемый результат.*** Значение поля "Месяц" невалидно. Поле «Месяц» подсвечивается красным цветом, сообщение об ошибке: «Неверно указан срок действия карты». Ввод некорректных символов недоступен.

**9.** Валидация поля "Год": пустое поле, ввод букв, ввод некорректных символов, ввод менее 2 цифр, ввод более 2 цифр, ввод цифр не входящих в валидный диапазон (текущий год + 5 лет),  ввод только пробелов.

***Ожидаемый результат.*** Значение поля "Год" невалидно. Поле «Год» подсвечивается красным цветом, сообщение об ошибке: «Неверно указан срок действия карты». Ввод некорректных символов недоступен.

**10.** Валидация поля "Владелец": ввод букв на кириллице, некорректные символы, имя из 1 буквы, цифры в имени, ввод только пробелов, ввод только имени, ввод только фамилии.

***Ожидаемый результат.*** Значение поля "Владелец" невалидно. Поле «Владелец» подсвечивается красным цветом, сообщение об ошибке: «Поле обязательно для заполнения». Ввод некорректных символов недоступен.

**11.** Валидация поля "CVC/CVV": пустое поле, ввод букв, ввод некорректных символов, ввод менее 3 цифр, ввод более 3 цифр, ввод только пробелов.

***Ожидаемый результат.*** Значение поля "CVC/CVV" невалидно. Поле «CVC/CVV» подсвечивается красным цветом, сообщение об ошибке: «Неверный формат». Ввод некорректных символов недоступен.


## 2. Перечень используемых инструментов с обоснованием выбора

* IntelliJ IDEA - это профессиональная IDE, которая помогает экономить время и работать продуктивнее. IDE подсказывает синтаксис, подсвечивает ошибки, помогает выстраивать отлаженные процессы на всех этапах разработки: от проектирования, реализации, сборки, развертывания и тестирования до отладки и рефакторинга.
* Gradle - инструмент автоматизации сборки и управления зависимостями. Диалект специально разработан для описания сборки, тестирования, развертывания, экспорта и любых других действий над проектом.
* JUnit5 - наиболее широко используемая среда тестирования для приложений Java. Существуют Assertions (утверждения), которые позволяют сравнить ожидаемый результат с фактическим результатом теста.
* Lombok - позволяет сократить количество шаблонного кода, который нужно писать на Java.
* Docker - позволяет создавать контейнеры, автоматизировать их запуск и развертывание, управляет жизненным циклом. Он позволяет запускать множество контейнеров на одной хост-машине.
* GitHub - система контроля версий, которая даёт возможность разработчикам отслеживать изменения в файлах и работать над одним проектом совместно с коллегами.
* Faker - генерация рандомных данных (имя, номер телефона,электронный адрес).
* Selenide - фреймворк для автоматизированного тестирования.
* GitHub - используется для хранения кода, в том числе автотестов.

## 3. Перечень и описание возможных рисков при автоматизации

1. Ложные срабатывания - ошибка не в ПО, а в самих автотестах
2. Сложность автоматизации - сложность настройки окружения
3. Поиск локаторов
4. Ошибки при написании запросов и подключении зависимостей

## 4. Интервальная оценка с учётом рисков (в часах)

* Изучение данных, подготовка окружения - 12 часов.
* Написание автотестов и тестирование - 80 часов.
* Формирование и анализ отчетов - 10 часов.

## 5. План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)

1. Планирование автоматизации тестирования - до 04.08.2022
2. Автотесты и результаты их прогона - до 30.09.2022
3. Отчет по результатам автоматизации - до 01.10.2022
